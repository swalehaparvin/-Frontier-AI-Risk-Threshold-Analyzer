import requests
import os

def download_pdf(url, filename):
    """Download PDF from URL"""
    try:
        print(f"üì• Downloading {filename}...")
        response = requests.get(url, timeout=30)
        response.raise_for_status()
        
        os.makedirs('../data/raw/metr', exist_ok=True)
        
        filepath = f'../data/raw/metr/{filename}' if filename in METR_FRAMEWORKS else f'../data/raw/{filename}'
        
        with open(filepath, 'wb') as f:
            f.write(response.content)
        print(f"‚úÖ Downloaded {filename}")
        return True
    except Exception as e:
        print(f"‚ùå Failed {filename}: {e}")
        return False

METR_FRAMEWORKS = {
    'anthropic_rsp.pdf': 'https://www.anthropic.com/responsible-scaling-policy-v2.2.pdf',
    'openai_preparedness.pdf': 'https://cdn.openai.com/openai-preparedness-framework-beta.pdf',
    'deepmind_frontier.pdf': 'https://deepmind.google/discover/blog/introducing-the-frontier-safety-framework/',
    'magic_agi.pdf': 'https://magic.dev/agi-readiness-policy',
    'naver_safety.pdf': 'https://clova.ai/en/tech-blog/en-navers-ai-safety-framework-asf',
    'meta_frontier.pdf': 'https://ai.meta.com/static-resource/meta-frontier-ai-framework/',
    'g42_safety.pdf': 'https://www.g42.ai/application/files/9517/3882/2182/G42_Frontier_Safety_Framework_Publication_Version.pdf',
    'cohere_frontier.pdf': 'https://cohere.com/security/the-cohere-secure-ai-frontier-model-framework-february-2025.pdf',
    'microsoft_governance.pdf': 'https://cdn-dynmedia-1.microsoft.com/is/content/microsoftcorp/microsoft/final/en-us/microsoft-brand/documents/Microsoft-Frontier-Governance-Framework.pdf',
    'amazon_safety.pdf': 'https://www.amazon.science/publications/amazons-frontier-model-safety-framework',
    'xai_risk.pdf': 'https://data.x.ai/2025-08-20-xai-risk-management-framework.pdf',
    'nvidia_assessment.pdf': 'https://images.nvidia.com/content/pdf/NVIDIA-Frontier-AI-Risk-Assessment.pdf'
}

EU_URLS = {
    'eu_code_practice.pdf': 'https://cset.georgetown.edu/article/eu-ai-code-safety/'
}

COMPUTE_URLS = {
    'compute_thresholds.pdf': 'https://law-ai.org/the-role-of-compute-thresholds-for-ai-governance/'
}

# Download all files
print("=" * 50)
print("DOWNLOADING METR FRAMEWORKS")
print("=" * 50)
for filename, url in METR_FRAMEWORKS.items():
    download_pdf(url, filename)

print("\n" + "=" * 50)
print("DOWNLOADING EU DOCUMENTS")
print("=" * 50)
for filename, url in EU_URLS.items():
    download_pdf(url, filename)

print("\n" + "=" * 50)
print("DOWNLOADING COMPUTE DOCUMENTS")
print("=" * 50)
for filename, url in COMPUTE_URLS.items():
    download_pdf(url, filename)

print("\n‚úÖ All downloads complete!")